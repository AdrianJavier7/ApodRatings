{% extends 'base.html.twig' %}

{% block title %}Valorar Foto - Apodly{% endblock %}

{% block body %}
    <div class="uk-section uk-flex uk-flex-middle"
         uk-height-viewport="offset-bottom: 20"
         style="background: radial-gradient(circle at center, #1b2735 0%, #090a0f 100%);">

        <div class="uk-container uk-container-small">

            {# Encabezado con la referencia a la foto #}
            <div class="uk-text-center uk-margin-large-bottom">
                <h1 class="uk-heading-small uk-light uk-text-bold">Misión: {{ fecha }}</h1>
                <p class="uk-text-lead uk-text-primary">¿Qué te ha parecido esta captura del cosmos?</p>
            </div>

            <div class="uk-card uk-card-secondary uk-card-body uk-border-rounded uk-box-shadow-large"
                 style="background: rgba(25, 25, 45, 0.6); border: 1px solid rgba(30, 135, 240, 0.2); backdrop-filter: blur(10px);">

                <form method="POST" class="uk-form-stacked">

                    {# Campo de Estrellas (Puntuación) #}
                    <div class="uk-margin">
                        <label class="uk-form-label uk-light uk-text-bold" for="estrellas">Puntuación Estelar</label>
                        <div class="uk-form-controls uk-margin-small-top">
                            {# Barra corregida: Estilo inline para asegurar visibilidad en fondo oscuro #}
                            <input class="uk-range"
                                   type="range"
                                   value="5.0"
                                   min="0"
                                   max="5"
                                   step="0.5"
                                   name="estrellas"
                                   id="estrellas"
                                   style="background: rgba(255,255,255,0.1); height: 8px; border-radius: 5px;">

                            <div class="uk-flex uk-flex-between uk-margin-small-top uk-text-meta uk-light">
                                <span>0</span>
                                <span>1</span>
                                <span>2</span>
                                <span>3</span>
                                <span>4</span>
                                <span class="uk-text-warning">5</span>
                            </div>
                        </div>
                    </div>

                    {# Campo de Comentario #}
                    <div class="uk-margin">
                        <label class="uk-form-label uk-light uk-text-bold" for="comentario">Comentario</label>
                        <div class="uk-form-controls">
                            <textarea class="uk-textarea uk-border-rounded"
                                      name="comentario"
                                      id="comentario"
                                      rows="5"
                                      placeholder="Escribe tus impresiones sobre la nebulosa, galaxia o fenómeno..."
                                      style="background: rgba(0,0,0,0.3); color: #fff; border-color: rgba(255,255,255,0.1);"
                                      required></textarea>
                        </div>
                    </div>

                    <div class="uk-grid-small uk-child-width-1-2@s uk-margin-medium-top" uk-grid>
                        <div>
                            <a href="{{ path('app_foto_astral_dentro', {'date': fecha}) }}" class="uk-button uk-button-default uk-width-1-1 uk-border-rounded">
                                <span uk-icon="arrow-left"></span> Volver
                            </a>
                        </div>
                        <div>
                            <button type="submit" class="uk-button uk-button-primary uk-width-1-1 uk-border-rounded uk-text-bold">
                                ENVIAR RESEÑA <span uk-icon="check" class="uk-margin-small-left"></span>
                            </button>
                        </div>
                    </div>

                </form>
            </div>

            <p class="uk-text-center uk-text-meta uk-margin-medium-top" style="color: rgba(255,255,255,0.3);">
                Tus coordenadas y usuario serán registrados automáticamente en la base de datos de Apodly.
            </p>

        </div>
    </div>
{% endblock %}
